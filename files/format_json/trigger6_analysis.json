{
  "declarations": {
    "variables": [
      {
        "name": "V_TRIGGER_NAME",
        "data_type": "VARCHAR2(100)",
        "default_value": "'MDM_V_NEW_MEDICINE_PROPOSALS_IOF'"
      },
      {
        "name": "V_EVOLVED_THEME_NO",
        "data_type": "V_NEW_MEDICINE_PROPOSALS.EVOLVED_THEME_NO%TYPE",
        "default_value": null
      },
      {
        "name": "V_PROPOSAL_ID",
        "data_type": "NUMBER",
        "default_value": null
      },
      {
        "name": "C_PROPOSAL_STATUS_ACTIVE",
        "data_type": "VARCHAR2(1)",
        "default_value": "'A'"
      },
      {
        "name": "C_PROPOSAL_STATUS_EVOLVED",
        "data_type": "VARCHAR2(1)",
        "default_value": "'E'"
      },
      {
        "name": "C_PROPOSAL_STATUS_TERMINATED",
        "data_type": "VARCHAR2(1)",
        "default_value": "'T'"
      }
    ],
    "constants": [],
    "exceptions": [
      {
        "name": "V_NO_UPDATE_TO_EVOLVED",
        "type": "EXCEPTION"
      },
      {
        "name": "V_NO_UPDATE_TERMINATED_TO_ACTIVE",
        "type": "EXCEPTION"
      },
      {
        "name": "V_NO_UPDATE_EVOLVED_TO_TERMINATED",
        "type": "EXCEPTION"
      },
      {
        "name": "V_EXPLORATORY_THEMENO_NOT_NULL",
        "type": "EXCEPTION"
      }
    ]
  },
  "main": {
    "type": "begin_end",
    "begin_line_no": 12,
    "begin_indent": 0,
    "begin_end_statements": [
      {
        "indent": 4,
        "line": "    V_EVOLVED_THEME_NO := :NEW.EVOLVED_THEME_NO;",
        "line_no": 13,
        "is_end_semicolon": true
      },
      {
        "if_expression": " (:NEW.PROPOSAL_STATUS_CD = C_PROPOSAL_STATUS_EVOLVED AND(:NEW.EVOLVED_THEME_NO IS NULL OR :NEW.EVOLVED_THEME_NO = :OLD.EVOLVED_THEME_NO) AND :NEW.MOLECULE_TYPE_ID = :OLD.MOLECULE_TYPE_ID AND :NEW.PHARMACOLOGICAL_TYPE_ID = :OLD.PHARMACOLOGICAL_TYPE_ID AND :NEW.PROPOSAL_NAME = :OLD.PROPOSAL_NAME) ",
        "type": "if_else",
        "if_line_no": 18,
        "then_statements": [],
        "if_indent": 4,
        "end_if_line_no": 20,
        "if_elses": [],
        "else_statements": []
      },
      {
        "if_expression": " (:NEW.PROPOSAL_STATUS_CD = C_PROPOSAL_STATUS_TERMINATED AND :OLD.PROPOSAL_STATUS_CD = C_PROPOSAL_STATUS_EVOLVED) ",
        "type": "if_else",
        "if_line_no": 24,
        "then_statements": [],
        "if_indent": 4,
        "end_if_line_no": 26,
        "if_elses": [],
        "else_statements": []
      },
      {
        "if_expression": " (:NEW.PROPOSAL_STATUS_CD = C_PROPOSAL_STATUS_ACTIVE AND :OLD.EVOLVED_THEME_NO IS NOT NULL) ",
        "type": "if_else",
        "if_line_no": 30,
        "then_statements": [],
        "if_indent": 4,
        "end_if_line_no": 32,
        "if_elses": [],
        "else_statements": []
      },
      {
        "if_expression": " (:NEW.EXPLORATORY_THEME_NO IS NULL AND :OLD.EXPLORATORY_THEME_NO IS NOT NULL) ",
        "type": "if_else",
        "if_line_no": 36,
        "then_statements": [],
        "if_indent": 4,
        "end_if_line_no": 38,
        "if_elses": [],
        "else_statements": []
      },
      {
        "if_expression": " (INSERTING) ",
        "type": "if_else",
        "if_line_no": 40,
        "then_statements": [
          {
            "indent": 8,
            "line": "        V_PROPOSAL_ID := PREDMD.SEQ_NMP_PROPOSAL_ID.NEXTVAL;",
            "line_no": 41,
            "is_end_semicolon": true
          },
          {
            "indent": 8,
            "line": "        INSERT INTO V_NEW_MEDICINE_PROPOSALS(",
            "line_no": 42,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            PROPOSAL_ID,",
            "line_no": 43,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            EXPLORATORY_THEME_NO,",
            "line_no": 44,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            PROPOSAL_NAME,",
            "line_no": 45,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            PROPOSAL_STATUS_CD,",
            "line_no": 46,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            EVOLVED_THEME_NO,",
            "line_no": 47,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            MOLECULE_TYPE_ID,",
            "line_no": 48,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            PHARMACOLOGICAL_TYPE_ID,",
            "line_no": 49,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            FIREWALL_ID",
            "line_no": 50,
            "is_end_semicolon": false
          },
          {
            "indent": 8,
            "line": "        ) VALUES (",
            "line_no": 51,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            V_PROPOSAL_ID,",
            "line_no": 52,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            :NEW.EXPLORATORY_THEME_NO,",
            "line_no": 53,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            :NEW.PROPOSAL_NAME,",
            "line_no": 54,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            :NEW.PROPOSAL_STATUS_CD,",
            "line_no": 55,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            :NEW.EVOLVED_THEME_NO,",
            "line_no": 56,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            :NEW.MOLECULE_TYPE_ID,",
            "line_no": 57,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            :NEW.PHARMACOLOGICAL_TYPE_ID,",
            "line_no": 58,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            :NEW.FIREWALL_ID",
            "line_no": 59,
            "is_end_semicolon": false
          },
          {
            "indent": 8,
            "line": "        );",
            "line_no": 60,
            "is_end_semicolon": true
          },
          {
            "if_expression": " :NEW.PARTNER_ID IS NOT NULL ",
            "type": "if_else",
            "if_line_no": 61,
            "then_statements": [],
            "if_indent": 8,
            "end_if_line_no": 63,
            "if_elses": [],
            "else_statements": []
          }
        ],
        "if_indent": 4,
        "end_if_line_no": 79,
        "if_elses": [],
        "else_statements": []
      }
    ],
    "exception_handlers": [
      {
        "type": "exception_handler",
        "exception_name": "DUP_VAL_ON_INDEX",
        "when_line_no": 81,
        "when_indent": 4,
        "then_line_no": 81,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20600,
              "handler_string": "V_TRIGGER_NAME"
            }
          }
        ],
        "exception_statements_line_no": [
          82
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "V_NO_UPDATE_EVOLVED_TO_TERMINATED",
        "when_line_no": 83,
        "when_indent": 4,
        "then_line_no": 83,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20800,
              "handler_string": "V_TRIGGER_NAME"
            }
          }
        ],
        "exception_statements_line_no": [
          84
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "V_NO_UPDATE_TO_EVOLVED",
        "when_line_no": 85,
        "when_indent": 4,
        "then_line_no": 85,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20900,
              "handler_string": "V_TRIGGER_NAME"
            }
          }
        ],
        "exception_statements_line_no": [
          86
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "V_EXPLORATORY_THEMENO_NOT_NULL",
        "when_line_no": 87,
        "when_indent": 4,
        "then_line_no": 87,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20940,
              "handler_string": "V_TRIGGER_NAME"
            }
          }
        ],
        "exception_statements_line_no": [
          88
        ]
      }
    ],
    "exception_line_no": 80,
    "end_line_no": 89
  },
  "sql_comments": [
    "-- status update to evolved is only allowed from the themes screen",
    "-- when the Former Proposal System Id in themes is set then",
    "-- the evolved_theme_no is set and the proposal_status_cd is set to 'E'",
    "-- Evolved to Terminated not allowed",
    "-- Evolved to Active",
    "-- not allowed to create NMP with exploratory_theme_no = null"
  ],
  "rest_strings": [
    {
      "indent": 4,
      "line": "    V_EVOLVED_THEME_NO := :NEW.EVOLVED_THEME_NO;",
      "line_no": 13,
      "is_end_semicolon": true
    },
    {
      "indent": 8,
      "line": "        V_PROPOSAL_ID := PREDMD.SEQ_NMP_PROPOSAL_ID.NEXTVAL;",
      "line_no": 41,
      "is_end_semicolon": true
    },
    {
      "indent": 8,
      "line": "        INSERT INTO V_NEW_MEDICINE_PROPOSALS(",
      "line_no": 42,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            PROPOSAL_ID,",
      "line_no": 43,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            EXPLORATORY_THEME_NO,",
      "line_no": 44,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            PROPOSAL_NAME,",
      "line_no": 45,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            PROPOSAL_STATUS_CD,",
      "line_no": 46,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            EVOLVED_THEME_NO,",
      "line_no": 47,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            MOLECULE_TYPE_ID,",
      "line_no": 48,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            PHARMACOLOGICAL_TYPE_ID,",
      "line_no": 49,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            FIREWALL_ID",
      "line_no": 50,
      "is_end_semicolon": false
    },
    {
      "indent": 8,
      "line": "        ) VALUES (",
      "line_no": 51,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            V_PROPOSAL_ID,",
      "line_no": 52,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            :NEW.EXPLORATORY_THEME_NO,",
      "line_no": 53,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            :NEW.PROPOSAL_NAME,",
      "line_no": 54,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            :NEW.PROPOSAL_STATUS_CD,",
      "line_no": 55,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            :NEW.EVOLVED_THEME_NO,",
      "line_no": 56,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            :NEW.MOLECULE_TYPE_ID,",
      "line_no": 57,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            :NEW.PHARMACOLOGICAL_TYPE_ID,",
      "line_no": 58,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            :NEW.FIREWALL_ID",
      "line_no": 59,
      "is_end_semicolon": false
    },
    {
      "indent": 8,
      "line": "        );",
      "line_no": 60,
      "is_end_semicolon": true
    }
  ],
  "conversion_stats": {
    "declaration_count": 10,
    "comment_count": 6,
    "rest_string_count": 21,
    "sql_convert_count": 15
  },
  "metadata": {
    "parse_timestamp": "2025-08-25T02:26:38.888978",
    "parser_version": "1.0"
  }
}