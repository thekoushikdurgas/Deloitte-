{
  "declarations": {
    "variables": [
      {
        "name": "V_USERID",
        "data_type": "VARCHAR2(100)",
        "default_value": null
      },
      {
        "name": "V_COMPANY_CD",
        "data_type": "VARCHAR2(50)",
        "default_value": null
      },
      {
        "name": "V_LEGAL_COMPANY_CD",
        "data_type": "VARCHAR2(50)",
        "default_value": null
      },
      {
        "name": "V_REPORTING_ENTITY_CD",
        "data_type": "VARCHAR2(50)",
        "default_value": null
      },
      {
        "name": "V_COUNTRY_CD",
        "data_type": "VARCHAR2(10)",
        "default_value": null
      },
      {
        "name": "V_VALID_FROM_DATE",
        "data_type": "DATE",
        "default_value": null
      },
      {
        "name": "V_VALID_TO_DATE",
        "data_type": "DATE",
        "default_value": null
      },
      {
        "name": "V_COUNTER",
        "data_type": "PLS_INTEGER",
        "default_value": "0"
      },
      {
        "name": "V_TOTAL_COUNT",
        "data_type": "PLS_INTEGER",
        "default_value": "0"
      },
      {
        "name": "V_STATUS_CD",
        "data_type": "VARCHAR2(2)",
        "default_value": null
      },
      {
        "name": "V_DESCRIPTION",
        "data_type": "VARCHAR2(500)",
        "default_value": null
      },
      {
        "name": "V_SHORT_NAME",
        "data_type": "VARCHAR2(100)",
        "default_value": null
      },
      {
        "name": "V_MOLECULE_ID",
        "data_type": "VARCHAR2(20)",
        "default_value": null
      },
      {
        "name": "V_THEME_NO",
        "data_type": "VARCHAR2(10)",
        "default_value": null
      },
      {
        "name": "V_PROPOSAL_ID",
        "data_type": "NUMBER",
        "default_value": null
      },
      {
        "name": "V_RG_NO",
        "data_type": "VARCHAR2(20)",
        "default_value": null
      },
      {
        "name": "V_COMPARATOR_IND",
        "data_type": "VARCHAR2(1)",
        "default_value": null
      },
      {
        "name": "V_MOLECULE_TYPE_ID",
        "data_type": "NUMBER",
        "default_value": null
      },
      {
        "name": "V_PHARMACOLOGICAL_TYPE_ID",
        "data_type": "NUMBER",
        "default_value": null
      },
      {
        "name": "V_EVOLVED_NMP_CNT",
        "data_type": "PLS_INTEGER",
        "default_value": "0"
      },
      {
        "name": "V_IS_ADMIN_CNT",
        "data_type": "SIMPLE_INTEGER",
        "default_value": "0"
      },
      {
        "name": "V_SEC_MOL_CNT",
        "data_type": "SIMPLE_INTEGER",
        "default_value": "0"
      },
      {
        "name": "V_NEW_RG_NO",
        "data_type": "VARCHAR2(20)",
        "default_value": null
      },
      {
        "name": "V_MOLEC_IN_LIC_PRTNR",
        "data_type": "VARCHAR2(15)",
        "default_value": null
      },
      {
        "name": "V_THEME_DESC_PROPOSAL",
        "data_type": "VARCHAR2(500)",
        "default_value": null
      },
      {
        "name": "V_TRADEMARK_NO",
        "data_type": "VARCHAR2(50)",
        "default_value": null
      },
      {
        "name": "V_ODG_NO",
        "data_type": "VARCHAR2(2)",
        "default_value": null
      },
      {
        "name": "V_RESGRP_CD",
        "data_type": "VARCHAR2(2)",
        "default_value": null
      },
      {
        "name": "V_RESLIN_CD",
        "data_type": "VARCHAR2(2)",
        "default_value": null
      },
      {
        "name": "V_RESLIN_DESC",
        "data_type": "VARCHAR2(60)",
        "default_value": null
      },
      {
        "name": "V_DBA_CD",
        "data_type": "PLS_INTEGER",
        "default_value": null
      },
      {
        "name": "V_PORTF_PROJ_CD",
        "data_type": "VARCHAR2(1)",
        "default_value": null
      },
      {
        "name": "V_D_REGISTRAT_DATE",
        "data_type": "DATE",
        "default_value": null
      },
      {
        "name": "V_VALID_TO",
        "data_type": "DATE",
        "default_value": null
      },
      {
        "name": "V_MANUAL_SHORT_DESC",
        "data_type": "VARCHAR2(100)",
        "default_value": null
      }
    ],
    "constants": [
      {
        "name": "V_TRIGGER_NAME",
        "data_type": "VARCHAR2(100)",
        "value": "'COMPLEX_BUSINESS_LOGIC_TRIGGER'"
      },
      {
        "name": "C_MOLECULE_TYPE_ID",
        "data_type": "NUMBER",
        "value": "99"
      },
      {
        "name": "C_PHARMACOLOGICAL_TYPE_ID",
        "data_type": "NUMBER",
        "value": "19"
      },
      {
        "name": "C_PROPOSAL_STATUS_ACTIVE",
        "data_type": "VARCHAR2(1)",
        "value": "'A'"
      },
      {
        "name": "C_PROPOSAL_STATUS_EVOLVED",
        "data_type": "VARCHAR2(1)",
        "value": "'E'"
      },
      {
        "name": "C_PROPOSAL_STATUS_TERMINATED",
        "data_type": "VARCHAR2(1)",
        "value": "'T'"
      }
    ],
    "exceptions": [
      {
        "name": "ERR_INS",
        "type": "EXCEPTION"
      },
      {
        "name": "ERR_DEL",
        "type": "EXCEPTION"
      },
      {
        "name": "ERR_UPD",
        "type": "EXCEPTION"
      },
      {
        "name": "ERR_VALID_FROM_DATE",
        "type": "EXCEPTION"
      },
      {
        "name": "ERR_NO_ADR",
        "type": "EXCEPTION"
      },
      {
        "name": "ERR_CPY_STILL_IN_SCOPE",
        "type": "EXCEPTION"
      },
      {
        "name": "CPY_IN_USE",
        "type": "EXCEPTION"
      },
      {
        "name": "INVALID_LEGAL_COMP",
        "type": "EXCEPTION"
      },
      {
        "name": "ERR_CPY_STILL_IN_MFR",
        "type": "EXCEPTION"
      },
      {
        "name": "ERR_ASSOC_ENT_NOT_ALLOWED_FOR_CBC",
        "type": "EXCEPTION"
      },
      {
        "name": "RU_NOT_IN_CBC_SCOPE",
        "type": "EXCEPTION"
      },
      {
        "name": "INVALID_THEME_NO",
        "type": "EXCEPTION"
      },
      {
        "name": "DELETE_NO_MORE_POSSIBLE",
        "type": "EXCEPTION"
      },
      {
        "name": "THEME_NO_ONLY_INSERT",
        "type": "EXCEPTION"
      },
      {
        "name": "DESCRIPTION_TOO_LONG",
        "type": "EXCEPTION"
      },
      {
        "name": "THEME_DESC_PROPOSAL_TOO_LONG",
        "type": "EXCEPTION"
      },
      {
        "name": "THEME_NO_CANNOT_BE_INSERTED",
        "type": "EXCEPTION"
      },
      {
        "name": "ONLYONEOFFICIALCHANGEPERDAY",
        "type": "EXCEPTION"
      },
      {
        "name": "INSERTSMUSTBEOFFICIAL",
        "type": "EXCEPTION"
      },
      {
        "name": "THEMEDESCRIPTIONMANDATORY",
        "type": "EXCEPTION"
      },
      {
        "name": "THEME_DESC_NOT_UNIQUE",
        "type": "EXCEPTION"
      },
      {
        "name": "IN_PREP_NOT_PORTF_PROJ",
        "type": "EXCEPTION"
      },
      {
        "name": "IN_PREP_NOT_CLOSED",
        "type": "EXCEPTION"
      },
      {
        "name": "INVALID_MOLECULE_ID",
        "type": "EXCEPTION"
      },
      {
        "name": "SEC_MOL_LIST_NOT_EMPTY",
        "type": "EXCEPTION"
      },
      {
        "name": "ADMIN_UPDATE_ONLY",
        "type": "EXCEPTION"
      },
      {
        "name": "PORTF_PROJ_MOL_CRE_ERR",
        "type": "EXCEPTION"
      },
      {
        "name": "DEBUGGING",
        "type": "EXCEPTION"
      },
      {
        "name": "ERR_MAP_EXISTS",
        "type": "EXCEPTION"
      },
      {
        "name": "ERR_MOLEC_ID_MISSING",
        "type": "EXCEPTION"
      },
      {
        "name": "ERR_NO_PORTF_MOLECULE_LEFT",
        "type": "EXCEPTION"
      },
      {
        "name": "ERR_UPD_INV_MAP",
        "type": "EXCEPTION"
      },
      {
        "name": "ERR_INS_INV_MAP",
        "type": "EXCEPTION"
      },
      {
        "name": "ERR_INV_MOL_SEQUENCE",
        "type": "EXCEPTION"
      },
      {
        "name": "UPDATE_UPD",
        "type": "EXCEPTION"
      },
      {
        "name": "ERR_CTRY_CHG",
        "type": "EXCEPTION"
      },
      {
        "name": "ERR_NOT_ALLOWED_TO_INVALIDATE",
        "type": "EXCEPTION"
      },
      {
        "name": "ERR_INS_LEGAL_ADDR",
        "type": "EXCEPTION"
      },
      {
        "name": "TEST_ERR",
        "type": "EXCEPTION"
      },
      {
        "name": "V_NO_UPDATE_TO_EVOLVED",
        "type": "EXCEPTION"
      },
      {
        "name": "V_NO_UPDATE_TERMINATED_TO_ACTIVE",
        "type": "EXCEPTION"
      },
      {
        "name": "V_NO_UPDATE_EVOLVED_TO_TERMINATED",
        "type": "EXCEPTION"
      },
      {
        "name": "V_EXPLORATORY_THEMENO_NOT_NULL",
        "type": "EXCEPTION"
      }
    ]
  },
  "main": {
    "type": "begin_end",
    "begin_line_no": 90,
    "begin_indent": 0,
    "begin_end_statements": [
      {
        "type": "begin_end",
        "begin_line_no": 93,
        "begin_indent": 4,
        "begin_end_statements": [
          {
            "indent": 8,
            "line": "        V_USERID := TXO_UTIL.GET_USERID;",
            "line_no": 94,
            "is_end_semicolon": true
          }
        ],
        "exception_handlers": [
          {
            "type": "exception_handler",
            "exception_name": "OTHERS",
            "when_line_no": 96,
            "when_indent": 8,
            "then_line_no": 96,
            "exception_statements": [
              {
                "indent": 12,
                "line": "            V_USERID := USER;",
                "line_no": 97,
                "is_end_semicolon": true
              }
            ],
            "exception_statements_line_no": [
              97
            ]
          }
        ],
        "exception_line_no": 95,
        "end_line_no": 98
      },
      {
        "if_expression": " INSERTING ",
        "type": "if_else",
        "if_line_no": 102,
        "then_statements": [
          {
            "type": "begin_end",
            "begin_line_no": 103,
            "begin_indent": 8,
            "begin_end_statements": [
              {
                "case_expression": " LENGTH(:NEW.THEME_NO)",
                "type": "case_when",
                "case_line_no": 106,
                "case_indent": 12,
                "end_case_line_no": 133,
                "when_clauses": [
                  {
                    "type": "when_statement",
                    "when_line_no": 107,
                    "when_indent": 16,
                    "when_value": "4",
                    "then_line_no": 107,
                    "then_statements": [
                      {
                        "if_expression": "AND 9OR SUBSTR(:NEW.THEME_NO, 2, 1) NOT BETWEEN 0AND 9OR SUBSTR(:NEW.THEME_NO, 3, 1) NOT BETWEEN 0AND 9OR SUBSTR(:NEW.THEME_NO, 4, 1) NOT BETWEEN 0",
                        "type": "if_else",
                        "if_line_no": 108,
                        "then_statements": [],
                        "if_indent": 20,
                        "end_if_line_no": 117,
                        "if_elses": [],
                        "else_statements": []
                      }
                    ]
                  },
                  {
                    "type": "when_statement",
                    "when_line_no": 118,
                    "when_indent": 16,
                    "when_value": "5",
                    "then_line_no": 118,
                    "then_statements": [
                      {
                        "if_expression": "AND 9OR SUBSTR(:NEW.THEME_NO, 2, 1) NOT BETWEEN 0AND 9OR SUBSTR(:NEW.THEME_NO, 3, 1) NOT BETWEEN 0AND 9OR SUBSTR(:NEW.THEME_NO, 4, 1) NOT BETWEEN 0AND 9OR SUBSTR(:NEW.THEME_NO, 5, 1) NOT BETWEEN 0",
                        "type": "if_else",
                        "if_line_no": 119,
                        "then_statements": [],
                        "if_indent": 20,
                        "end_if_line_no": 130,
                        "if_elses": [],
                        "else_statements": []
                      }
                    ]
                  }
                ],
                "else_statements": [
                  {
                    "indent": 20,
                    "line": "                    RAISE INVALID_THEME_NO;",
                    "line_no": 132,
                    "is_end_semicolon": true
                  }
                ]
              },
              {
                "type": "begin_end",
                "begin_line_no": 137,
                "begin_indent": 12,
                "begin_end_statements": [
                  {
                    "indent": 16,
                    "line": "                SELECT",
                    "line_no": 138,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 20,
                    "line": "                    COUNT(*) INTO V_COUNTER",
                    "line_no": 139,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 16,
                    "line": "                FROM",
                    "line_no": 140,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 20,
                    "line": "                    (",
                    "line_no": 141,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 24,
                    "line": "                        SELECT",
                    "line_no": 142,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 28,
                    "line": "                            THEME_NO",
                    "line_no": 143,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 24,
                    "line": "                        FROM",
                    "line_no": 144,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 28,
                    "line": "                            V_THEMES",
                    "line_no": 145,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 24,
                    "line": "                        UNION",
                    "line_no": 146,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 24,
                    "line": "                        ALL",
                    "line_no": 147,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 24,
                    "line": "                        SELECT",
                    "line_no": 148,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 28,
                    "line": "                            THEME_NO",
                    "line_no": 149,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 24,
                    "line": "                        FROM",
                    "line_no": 150,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 28,
                    "line": "                            GMD.THEMES_ARCHIVE",
                    "line_no": 151,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 20,
                    "line": "                    )",
                    "line_no": 152,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 16,
                    "line": "                WHERE",
                    "line_no": 153,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 20,
                    "line": "                    T.THEME_NO = :NEW.THEME_NO;",
                    "line_no": 154,
                    "is_end_semicolon": true
                  },
                  {
                    "if_expression": " V_COUNTER > 0 ",
                    "type": "if_else",
                    "if_line_no": 155,
                    "then_statements": [],
                    "if_indent": 16,
                    "end_if_line_no": 157,
                    "if_elses": [],
                    "else_statements": []
                  }
                ],
                "exception_handlers": [
                  {
                    "type": "exception_handler",
                    "exception_name": "NO_DATA_FOUND",
                    "when_line_no": 159,
                    "when_indent": 16,
                    "then_line_no": 159,
                    "exception_statements": [
                      {
                        "indent": 20,
                        "line": "                    NULL;",
                        "line_no": 160,
                        "is_end_semicolon": true
                      }
                    ],
                    "exception_statements_line_no": [
                      160
                    ]
                  }
                ],
                "exception_line_no": 158,
                "end_line_no": 161
              },
              {
                "if_expression": " :NEW.MOLECULE_ID IS NOT NULL ",
                "type": "if_else",
                "if_line_no": 165,
                "then_statements": [],
                "if_indent": 12,
                "end_if_line_no": 218,
                "if_elses": [],
                "else_statements": []
              },
              {
                "type": "begin_end",
                "begin_line_no": 222,
                "begin_indent": 12,
                "begin_end_statements": [
                  {
                    "indent": 16,
                    "line": "                OPEN C_COMPANY_MAPPINGS;",
                    "line_no": 223,
                    "is_end_semicolon": true
                  },
                  {
                    "indent": 16,
                    "line": "                LOOP",
                    "line_no": 224,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 20,
                    "line": "                    FETCH C_COMPANY_MAPPINGS INTO V_COMPANY_REC;",
                    "line_no": 225,
                    "is_end_semicolon": true
                  },
                  {
                    "indent": 20,
                    "line": "                    EXIT WHEN C_COMPANY_MAPPINGS%NOTFOUND;",
                    "line_no": 226,
                    "is_end_semicolon": true
                  },
                  {
                    "type": "begin_end",
                    "begin_line_no": 227,
                    "begin_indent": 20,
                    "begin_end_statements": [
                      {
                        "indent": 24,
                        "line": "                        SELECT",
                        "line_no": 230,
                        "is_end_semicolon": false
                      },
                      {
                        "indent": 28,
                        "line": "                            COUNT(*) INTO V_COUNTER",
                        "line_no": 231,
                        "is_end_semicolon": false
                      },
                      {
                        "indent": 24,
                        "line": "                        FROM",
                        "line_no": 232,
                        "is_end_semicolon": false
                      },
                      {
                        "indent": 28,
                        "line": "                            CFG_V_COMPANIES",
                        "line_no": 233,
                        "is_end_semicolon": false
                      },
                      {
                        "indent": 24,
                        "line": "                        WHERE",
                        "line_no": 234,
                        "is_end_semicolon": false
                      },
                      {
                        "indent": 28,
                        "line": "                            COMPANY_TYPE_CD IN ('L')",
                        "line_no": 235,
                        "is_end_semicolon": false
                      },
                      {
                        "indent": 28,
                        "line": "                            AND VALID_IND = 'Y'",
                        "line_no": 236,
                        "is_end_semicolon": false
                      },
                      {
                        "indent": 28,
                        "line": "                            AND COMPANY_CD = V_COMPANY_REC.LEGAL_COMPANY_CD;",
                        "line_no": 237,
                        "is_end_semicolon": true
                      },
                      {
                        "if_expression": " V_COUNTER = 0 ",
                        "type": "if_else",
                        "if_line_no": 238,
                        "then_statements": [],
                        "if_indent": 24,
                        "end_if_line_no": 240,
                        "if_elses": [],
                        "else_statements": []
                      },
                      {
                        "type": "begin_end",
                        "begin_line_no": 244,
                        "begin_indent": 24,
                        "begin_end_statements": [
                          {
                            "indent": 28,
                            "line": "                            SELECT",
                            "line_no": 245,
                            "is_end_semicolon": false
                          },
                          {
                            "indent": 32,
                            "line": "                                COUNT(*) INTO V_COUNTER",
                            "line_no": 246,
                            "is_end_semicolon": false
                          },
                          {
                            "indent": 28,
                            "line": "                            FROM",
                            "line_no": 247,
                            "is_end_semicolon": false
                          },
                          {
                            "indent": 32,
                            "line": "                                CFG.CFG_V_COMPANY_ADDRESSES",
                            "line_no": 248,
                            "is_end_semicolon": false
                          },
                          {
                            "indent": 28,
                            "line": "                            WHERE",
                            "line_no": 249,
                            "is_end_semicolon": false
                          },
                          {
                            "indent": 32,
                            "line": "                                COMPANY_CD = V_COMPANY_REC.REPORTING_ENTITY_CD",
                            "line_no": 250,
                            "is_end_semicolon": false
                          },
                          {
                            "indent": 32,
                            "line": "                                AND ADDRESS_TYPE_CD = 'RES';",
                            "line_no": 251,
                            "is_end_semicolon": true
                          },
                          {
                            "if_expression": " V_COUNTER = 0 ",
                            "type": "if_else",
                            "if_line_no": 252,
                            "then_statements": [],
                            "if_indent": 28,
                            "end_if_line_no": 254,
                            "if_elses": [],
                            "else_statements": []
                          },
                          {
                            "indent": 28,
                            "line": "                            SELECT",
                            "line_no": 258,
                            "is_end_semicolon": false
                          },
                          {
                            "indent": 32,
                            "line": "                                VALID_FROM,",
                            "line_no": 259,
                            "is_end_semicolon": false
                          },
                          {
                            "indent": 32,
                            "line": "                                COUNTRY_CD INTO V_VALID_FROM_DATE,",
                            "line_no": 260,
                            "is_end_semicolon": false
                          },
                          {
                            "indent": 32,
                            "line": "                                V_COUNTRY_CD",
                            "line_no": 261,
                            "is_end_semicolon": false
                          },
                          {
                            "indent": 28,
                            "line": "                            FROM",
                            "line_no": 262,
                            "is_end_semicolon": false
                          },
                          {
                            "indent": 32,
                            "line": "                                CFG.CFG_V_COMPANY_ADDRESSES",
                            "line_no": 263,
                            "is_end_semicolon": false
                          },
                          {
                            "indent": 28,
                            "line": "                            WHERE",
                            "line_no": 264,
                            "is_end_semicolon": false
                          },
                          {
                            "indent": 32,
                            "line": "                                COMPANY_CD = V_COMPANY_REC.REPORTING_ENTITY_CD",
                            "line_no": 265,
                            "is_end_semicolon": false
                          },
                          {
                            "indent": 32,
                            "line": "                                AND ADDRESS_TYPE_CD = 'RES';",
                            "line_no": 266,
                            "is_end_semicolon": true
                          }
                        ],
                        "exception_handlers": [
                          {
                            "type": "exception_handler",
                            "exception_name": "NO_DATA_FOUND",
                            "when_line_no": 268,
                            "when_indent": 28,
                            "then_line_no": 268,
                            "exception_statements": [
                              {
                                "indent": 32,
                                "line": "                                RAISE ERR_NO_ADR;",
                                "line_no": 269,
                                "is_end_semicolon": true
                              }
                            ],
                            "exception_statements_line_no": [
                              269
                            ]
                          }
                        ],
                        "exception_line_no": 267,
                        "end_line_no": 270
                      }
                    ],
                    "exception_handlers": [
                      {
                        "type": "exception_handler",
                        "exception_name": "INVALID_LEGAL_COMP",
                        "when_line_no": 272,
                        "when_indent": 24,
                        "then_line_no": 272,
                        "exception_statements": [
                          {
                            "indent": 28,
                            "line": "                            NULL;",
                            "line_no": 275,
                            "is_end_semicolon": true
                          }
                        ],
                        "exception_statements_line_no": [
                          275
                        ]
                      },
                      {
                        "type": "exception_handler",
                        "exception_name": "ERR_NO_ADR",
                        "when_line_no": 276,
                        "when_indent": 24,
                        "then_line_no": 276,
                        "exception_statements": [
                          {
                            "indent": 28,
                            "line": "                            NULL;",
                            "line_no": 279,
                            "is_end_semicolon": true
                          }
                        ],
                        "exception_statements_line_no": [
                          279
                        ]
                      }
                    ],
                    "exception_line_no": 271,
                    "end_line_no": 280
                  },
                  {
                    "indent": 16,
                    "line": "                END LOOP;",
                    "line_no": 281,
                    "is_end_semicolon": true
                  },
                  {
                    "indent": 16,
                    "line": "                CLOSE C_COMPANY_MAPPINGS;",
                    "line_no": 283,
                    "is_end_semicolon": true
                  }
                ],
                "exception_handlers": [
                  {
                    "type": "exception_handler",
                    "exception_name": "OTHERS",
                    "when_line_no": 285,
                    "when_indent": 16,
                    "then_line_no": 285,
                    "exception_statements": [
                      {
                        "if_expression": " C_COMPANY_MAPPINGS%ISOPEN ",
                        "type": "if_else",
                        "if_line_no": 286,
                        "then_statements": [],
                        "if_indent": 20,
                        "end_if_line_no": 288,
                        "if_elses": [],
                        "else_statements": []
                      },
                      {
                        "indent": 20,
                        "line": "                    RAISE;",
                        "line_no": 290,
                        "is_end_semicolon": true
                      }
                    ],
                    "exception_statements_line_no": [
                      286,
                      287,
                      288,
                      290
                    ]
                  }
                ],
                "exception_line_no": 284,
                "end_line_no": 291
              },
              {
                "type": "begin_end",
                "begin_line_no": 295,
                "begin_indent": 12,
                "begin_end_statements": [
                  {
                    "indent": 16,
                    "line": "                OPEN C_THEME_MOLECULES;",
                    "line_no": 296,
                    "is_end_semicolon": true
                  },
                  {
                    "indent": 16,
                    "line": "                LOOP",
                    "line_no": 297,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 20,
                    "line": "                    FETCH C_THEME_MOLECULES INTO V_THEME_REC;",
                    "line_no": 298,
                    "is_end_semicolon": true
                  },
                  {
                    "indent": 20,
                    "line": "                    EXIT WHEN C_THEME_MOLECULES%NOTFOUND;",
                    "line_no": 299,
                    "is_end_semicolon": true
                  },
                  {
                    "type": "begin_end",
                    "begin_line_no": 300,
                    "begin_indent": 20,
                    "begin_end_statements": [
                      {
                        "if_expression": " V_THEME_REC.COMPARATOR_IND = 'N' ",
                        "type": "if_else",
                        "if_line_no": 303,
                        "then_statements": [],
                        "if_indent": 24,
                        "end_if_line_no": 319,
                        "if_elses": [],
                        "else_statements": []
                      }
                    ],
                    "exception_handlers": [
                      {
                        "type": "exception_handler",
                        "exception_name": "OTHERS",
                        "when_line_no": 321,
                        "when_indent": 24,
                        "then_line_no": 321,
                        "exception_statements": [
                          {
                            "indent": 28,
                            "line": "                            NULL;",
                            "line_no": 324,
                            "is_end_semicolon": true
                          }
                        ],
                        "exception_statements_line_no": [
                          324
                        ]
                      }
                    ],
                    "exception_line_no": 320,
                    "end_line_no": 325
                  },
                  {
                    "indent": 16,
                    "line": "                END LOOP;",
                    "line_no": 326,
                    "is_end_semicolon": true
                  },
                  {
                    "indent": 16,
                    "line": "                CLOSE C_THEME_MOLECULES;",
                    "line_no": 328,
                    "is_end_semicolon": true
                  }
                ],
                "exception_handlers": [
                  {
                    "type": "exception_handler",
                    "exception_name": "OTHERS",
                    "when_line_no": 330,
                    "when_indent": 16,
                    "then_line_no": 330,
                    "exception_statements": [
                      {
                        "if_expression": " C_THEME_MOLECULES%ISOPEN ",
                        "type": "if_else",
                        "if_line_no": 331,
                        "then_statements": [],
                        "if_indent": 20,
                        "end_if_line_no": 333,
                        "if_elses": [],
                        "else_statements": []
                      },
                      {
                        "indent": 20,
                        "line": "                    RAISE;",
                        "line_no": 335,
                        "is_end_semicolon": true
                      }
                    ],
                    "exception_statements_line_no": [
                      331,
                      332,
                      333,
                      335
                    ]
                  }
                ],
                "exception_line_no": 329,
                "end_line_no": 336
              },
              {
                "type": "begin_end",
                "begin_line_no": 340,
                "begin_indent": 12,
                "begin_end_statements": [
                  {
                    "indent": 16,
                    "line": "                OPEN C_ADDRESS_RECORDS;",
                    "line_no": 341,
                    "is_end_semicolon": true
                  },
                  {
                    "indent": 16,
                    "line": "                LOOP",
                    "line_no": 342,
                    "is_end_semicolon": false
                  },
                  {
                    "indent": 20,
                    "line": "                    FETCH C_ADDRESS_RECORDS INTO V_ADDRESS_REC;",
                    "line_no": 343,
                    "is_end_semicolon": true
                  },
                  {
                    "indent": 20,
                    "line": "                    EXIT WHEN C_ADDRESS_RECORDS%NOTFOUND;",
                    "line_no": 344,
                    "is_end_semicolon": true
                  },
                  {
                    "type": "begin_end",
                    "begin_line_no": 345,
                    "begin_indent": 20,
                    "begin_end_statements": [
                      {
                        "if_expression": " V_ADDRESS_REC.ADDRESS_TYPE_CD IN ('P', 'L') ",
                        "type": "if_else",
                        "if_line_no": 348,
                        "then_statements": [],
                        "if_indent": 24,
                        "end_if_line_no": 366,
                        "if_elses": [],
                        "else_statements": []
                      }
                    ],
                    "exception_handlers": [
                      {
                        "type": "exception_handler",
                        "exception_name": "ERR_CTRY_CHG",
                        "when_line_no": 368,
                        "when_indent": 24,
                        "then_line_no": 368,
                        "exception_statements": [
                          {
                            "indent": 28,
                            "line": "                            NULL;",
                            "line_no": 371,
                            "is_end_semicolon": true
                          }
                        ],
                        "exception_statements_line_no": [
                          371
                        ]
                      }
                    ],
                    "exception_line_no": 367,
                    "end_line_no": 372
                  },
                  {
                    "indent": 16,
                    "line": "                END LOOP;",
                    "line_no": 373,
                    "is_end_semicolon": true
                  },
                  {
                    "indent": 16,
                    "line": "                CLOSE C_ADDRESS_RECORDS;",
                    "line_no": 375,
                    "is_end_semicolon": true
                  }
                ],
                "exception_handlers": [
                  {
                    "type": "exception_handler",
                    "exception_name": "OTHERS",
                    "when_line_no": 377,
                    "when_indent": 16,
                    "then_line_no": 377,
                    "exception_statements": [
                      {
                        "if_expression": " C_ADDRESS_RECORDS%ISOPEN ",
                        "type": "if_else",
                        "if_line_no": 378,
                        "then_statements": [],
                        "if_indent": 20,
                        "end_if_line_no": 380,
                        "if_elses": [],
                        "else_statements": []
                      },
                      {
                        "indent": 20,
                        "line": "                    RAISE;",
                        "line_no": 382,
                        "is_end_semicolon": true
                      }
                    ],
                    "exception_statements_line_no": [
                      378,
                      379,
                      380,
                      382
                    ]
                  }
                ],
                "exception_line_no": 376,
                "end_line_no": 383
              }
            ],
            "exception_handlers": [
              {
                "type": "exception_handler",
                "exception_name": "INVALID_THEME_NO",
                "when_line_no": 385,
                "when_indent": 12,
                "then_line_no": 385,
                "exception_statements": [
                  {
                    "type": "function_calling",
                    "function_name": "raise_application_error",
                    "parameter": {
                      "handler_code": -20101,
                      "handler_string": "'Invalid theme number format'"
                    }
                  }
                ],
                "exception_statements_line_no": [
                  386
                ]
              },
              {
                "type": "exception_handler",
                "exception_name": "THEME_NO_CANNOT_BE_INSERTED",
                "when_line_no": 387,
                "when_indent": 12,
                "then_line_no": 387,
                "exception_statements": [
                  {
                    "type": "function_calling",
                    "function_name": "raise_application_error",
                    "parameter": {
                      "handler_code": -20102,
                      "handler_string": "'Theme number already exists'"
                    }
                  }
                ],
                "exception_statements_line_no": [
                  388
                ]
              },
              {
                "type": "exception_handler",
                "exception_name": "INVALID_MOLECULE_ID",
                "when_line_no": 389,
                "when_indent": 12,
                "then_line_no": 389,
                "exception_statements": [
                  {
                    "type": "function_calling",
                    "function_name": "raise_application_error",
                    "parameter": {
                      "handler_code": -20103,
                      "handler_string": "'Invalid molecule ID'"
                    }
                  }
                ],
                "exception_statements_line_no": [
                  390
                ]
              },
              {
                "type": "exception_handler",
                "exception_name": "OTHERS",
                "when_line_no": 391,
                "when_indent": 12,
                "then_line_no": 391,
                "exception_statements": [
                  {
                    "type": "function_calling",
                    "function_name": "raise_application_error",
                    "parameter": {
                      "handler_code": -20999,
                      "handler_string": "'Unexpected error during insert: ' || SQLERRM"
                    }
                  }
                ],
                "exception_statements_line_no": [
                  392,
                  393
                ]
              }
            ],
            "exception_line_no": 384,
            "end_line_no": 394
          }
        ],
        "if_indent": 4,
        "end_if_line_no": 565,
        "if_elses": [
          {
            "type": "elif_statement",
            "elif_line_no": 395,
            "elif_indent": 4,
            "elif_value": "UPDATING",
            "then_line_no": 395,
            "then_statements": [
              {
                "type": "begin_end",
                "begin_line_no": 396,
                "begin_indent": 8,
                "begin_end_statements": [
                  {
                    "if_expression": " :NEW.THEME_NO <> :OLD.THEME_NO ",
                    "type": "if_else",
                    "if_line_no": 399,
                    "then_statements": [],
                    "if_indent": 12,
                    "end_if_line_no": 401,
                    "if_elses": [],
                    "else_statements": []
                  },
                  {
                    "type": "begin_end",
                    "begin_line_no": 405,
                    "begin_indent": 12,
                    "begin_end_statements": [
                      {
                        "indent": 16,
                        "line": "                SELECT",
                        "line_no": 408,
                        "is_end_semicolon": false
                      },
                      {
                        "indent": 20,
                        "line": "                    COUNT(*) INTO V_COUNTER",
                        "line_no": 409,
                        "is_end_semicolon": false
                      },
                      {
                        "indent": 16,
                        "line": "                FROM",
                        "line_no": 410,
                        "is_end_semicolon": false
                      },
                      {
                        "indent": 20,
                        "line": "                    V_THEME_MOLECULE_MAP",
                        "line_no": 411,
                        "is_end_semicolon": false
                      },
                      {
                        "indent": 16,
                        "line": "                WHERE",
                        "line_no": 412,
                        "is_end_semicolon": false
                      },
                      {
                        "indent": 20,
                        "line": "                    THEME_NO = :NEW.THEME_NO",
                        "line_no": 413,
                        "is_end_semicolon": false
                      },
                      {
                        "indent": 20,
                        "line": "                    AND MOLECULE_ID = :NEW.MOLECULE_ID",
                        "line_no": 414,
                        "is_end_semicolon": false
                      },
                      {
                        "indent": 20,
                        "line": "                    AND VALID_IND = 'Y';",
                        "line_no": 415,
                        "is_end_semicolon": true
                      },
                      {
                        "if_expression": " V_COUNTER > 0 ",
                        "type": "if_else",
                        "if_line_no": 416,
                        "then_statements": [],
                        "if_indent": 16,
                        "end_if_line_no": 418,
                        "if_elses": [],
                        "else_statements": []
                      },
                      {
                        "if_expression": " :NEW.MOLECULE_ID = :OLD.MOLECULE_ID AND :NEW.MOLECULE_SEQ_NO <> :OLD.MOLECULE_SEQ_NO ",
                        "type": "if_else",
                        "if_line_no": 422,
                        "then_statements": [],
                        "if_indent": 16,
                        "end_if_line_no": 473,
                        "if_elses": [],
                        "else_statements": []
                      }
                    ],
                    "exception_handlers": [
                      {
                        "type": "exception_handler",
                        "exception_name": "ERR_MAP_EXISTS",
                        "when_line_no": 475,
                        "when_indent": 16,
                        "then_line_no": 475,
                        "exception_statements": [
                          {
                            "type": "function_calling",
                            "function_name": "raise_application_error",
                            "parameter": {
                              "handler_code": -20110,
                              "handler_string": "'Mapping already exists'"
                            }
                          }
                        ],
                        "exception_statements_line_no": [
                          476
                        ]
                      },
                      {
                        "type": "exception_handler",
                        "exception_name": "ERR_UPD_INV_MAP",
                        "when_line_no": 477,
                        "when_indent": 16,
                        "then_line_no": 477,
                        "exception_statements": [
                          {
                            "type": "function_calling",
                            "function_name": "raise_application_error",
                            "parameter": {
                              "handler_code": -20111,
                              "handler_string": "'Invalid mapping update'"
                            }
                          }
                        ],
                        "exception_statements_line_no": [
                          478
                        ]
                      }
                    ],
                    "exception_line_no": 474,
                    "end_line_no": 479
                  },
                  {
                    "type": "begin_end",
                    "begin_line_no": 483,
                    "begin_indent": 12,
                    "begin_end_statements": [
                      {
                        "if_expression": " NVL(:NEW.VALID_IND, 'Y') = 'N' AND NVL(:OLD.VALID_IND, 'N') = 'Y' ",
                        "type": "if_else",
                        "if_line_no": 484,
                        "then_statements": [],
                        "if_indent": 16,
                        "end_if_line_no": 515,
                        "if_elses": [],
                        "else_statements": []
                      }
                    ],
                    "exception_handlers": [
                      {
                        "type": "exception_handler",
                        "exception_name": "OTHERS",
                        "when_line_no": 517,
                        "when_indent": 16,
                        "then_line_no": 517,
                        "exception_statements": [
                          {
                            "indent": 20,
                            "line": "                    RAISE;",
                            "line_no": 518,
                            "is_end_semicolon": true
                          }
                        ],
                        "exception_statements_line_no": [
                          518
                        ]
                      }
                    ],
                    "exception_line_no": 516,
                    "end_line_no": 519
                  }
                ],
                "exception_handlers": [
                  {
                    "type": "exception_handler",
                    "exception_name": "THEME_NO_ONLY_INSERT",
                    "when_line_no": 521,
                    "when_indent": 12,
                    "then_line_no": 521,
                    "exception_statements": [
                      {
                        "type": "function_calling",
                        "function_name": "raise_application_error",
                        "parameter": {
                          "handler_code": -20113,
                          "handler_string": "'Theme number cannot be updated'"
                        }
                      }
                    ],
                    "exception_statements_line_no": [
                      522
                    ]
                  },
                  {
                    "type": "exception_handler",
                    "exception_name": "OTHERS",
                    "when_line_no": 523,
                    "when_indent": 12,
                    "then_line_no": 523,
                    "exception_statements": [
                      {
                        "type": "function_calling",
                        "function_name": "raise_application_error",
                        "parameter": {
                          "handler_code": -20998,
                          "handler_string": "'Unexpected error during update: ' || SQLERRM"
                        }
                      }
                    ],
                    "exception_statements_line_no": [
                      524,
                      525
                    ]
                  }
                ],
                "exception_line_no": 520,
                "end_line_no": 526
              }
            ]
          }
        ],
        "else_statements": []
      },
      {
        "type": "begin_end",
        "begin_line_no": 569,
        "begin_indent": 4,
        "begin_end_statements": [
          {
            "indent": 8,
            "line": "        SELECT",
            "line_no": 572,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            COUNT(*) INTO V_COUNTER",
            "line_no": 573,
            "is_end_semicolon": false
          },
          {
            "indent": 8,
            "line": "        FROM",
            "line_no": 574,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            (",
            "line_no": 575,
            "is_end_semicolon": false
          },
          {
            "indent": 16,
            "line": "                SELECT",
            "line_no": 576,
            "is_end_semicolon": false
          },
          {
            "indent": 20,
            "line": "                    MOLECULE_SEQ_NO",
            "line_no": 577,
            "is_end_semicolon": false
          },
          {
            "indent": 16,
            "line": "                FROM",
            "line_no": 578,
            "is_end_semicolon": false
          },
          {
            "indent": 20,
            "line": "                    THEME_MOLECULE_MAP",
            "line_no": 579,
            "is_end_semicolon": false
          },
          {
            "indent": 16,
            "line": "                WHERE",
            "line_no": 580,
            "is_end_semicolon": false
          },
          {
            "indent": 20,
            "line": "                    THEME_NO = NVL(:NEW.THEME_NO, :OLD.THEME_NO)",
            "line_no": 581,
            "is_end_semicolon": false
          },
          {
            "indent": 20,
            "line": "                    AND VALID_IND = 'Y'",
            "line_no": 582,
            "is_end_semicolon": false
          },
          {
            "indent": 16,
            "line": "                GROUP BY",
            "line_no": 583,
            "is_end_semicolon": false
          },
          {
            "indent": 20,
            "line": "                    MOLECULE_SEQ_NO",
            "line_no": 584,
            "is_end_semicolon": false
          },
          {
            "indent": 16,
            "line": "                HAVING",
            "line_no": 585,
            "is_end_semicolon": false
          },
          {
            "indent": 20,
            "line": "                    COUNT(*) > 1",
            "line_no": 586,
            "is_end_semicolon": false
          },
          {
            "indent": 12,
            "line": "            );",
            "line_no": 587,
            "is_end_semicolon": true
          },
          {
            "if_expression": " V_COUNTER > 0 ",
            "type": "if_else",
            "if_line_no": 588,
            "then_statements": [],
            "if_indent": 8,
            "end_if_line_no": 590,
            "if_elses": [],
            "else_statements": []
          },
          {
            "type": "begin_end",
            "begin_line_no": 594,
            "begin_indent": 8,
            "begin_end_statements": [
              {
                "indent": 12,
                "line": "            FOR EXPIRED_REC IN (",
                "line_no": 595,
                "is_end_semicolon": false
              },
              {
                "indent": 16,
                "line": "                SELECT",
                "line_no": 596,
                "is_end_semicolon": false
              },
              {
                "indent": 20,
                "line": "                    THEME_NO,",
                "line_no": 597,
                "is_end_semicolon": false
              },
              {
                "indent": 20,
                "line": "                    REGISTRAT_DATE",
                "line_no": 598,
                "is_end_semicolon": false
              },
              {
                "indent": 16,
                "line": "                FROM",
                "line_no": 599,
                "is_end_semicolon": false
              },
              {
                "indent": 20,
                "line": "                    V_THEMES",
                "line_no": 600,
                "is_end_semicolon": false
              },
              {
                "indent": 16,
                "line": "                WHERE",
                "line_no": 601,
                "is_end_semicolon": false
              },
              {
                "indent": 20,
                "line": "                    VALID_TO <= TRUNC(SYSDATE)",
                "line_no": 602,
                "is_end_semicolon": false
              },
              {
                "indent": 12,
                "line": "            ) LOOP",
                "line_no": 603,
                "is_end_semicolon": false
              },
              {
                "indent": 16,
                "line": "                DELETE FROM GMD.THEMES",
                "line_no": 604,
                "is_end_semicolon": false
              },
              {
                "indent": 16,
                "line": "                WHERE",
                "line_no": 605,
                "is_end_semicolon": false
              },
              {
                "indent": 20,
                "line": "                    THEME_NO = EXPIRED_REC.THEME_NO",
                "line_no": 606,
                "is_end_semicolon": false
              },
              {
                "indent": 20,
                "line": "                    AND REGISTRAT_DATE = EXPIRED_REC.REGISTRAT_DATE;",
                "line_no": 607,
                "is_end_semicolon": true
              },
              {
                "indent": 12,
                "line": "            END LOOP;",
                "line_no": 608,
                "is_end_semicolon": true
              }
            ],
            "exception_handlers": [
              {
                "type": "exception_handler",
                "exception_name": "OTHERS",
                "when_line_no": 610,
                "when_indent": 12,
                "then_line_no": 610,
                "exception_statements": [
                  {
                    "indent": 16,
                    "line": "                NULL;",
                    "line_no": 613,
                    "is_end_semicolon": true
                  }
                ],
                "exception_statements_line_no": [
                  613
                ]
              }
            ],
            "exception_line_no": 609,
            "end_line_no": 614
          }
        ],
        "exception_handlers": [
          {
            "type": "exception_handler",
            "exception_name": "ERR_INV_MOL_SEQUENCE",
            "when_line_no": 616,
            "when_indent": 8,
            "then_line_no": 616,
            "exception_statements": [
              {
                "type": "function_calling",
                "function_name": "raise_application_error",
                "parameter": {
                  "handler_code": -20116,
                  "handler_string": "'Invalid molecule sequence detected'"
                }
              }
            ],
            "exception_statements_line_no": [
              617
            ]
          }
        ],
        "exception_line_no": 615,
        "end_line_no": 618
      }
    ],
    "exception_handlers": [
      {
        "type": "exception_handler",
        "exception_name": "ERR_INS",
        "when_line_no": 620,
        "when_indent": 4,
        "then_line_no": 620,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20117,
              "handler_string": "V_TRIGGER_NAME || ' - Insert error'"
            }
          }
        ],
        "exception_statements_line_no": [
          621,
          622
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "ERR_DEL",
        "when_line_no": 623,
        "when_indent": 4,
        "then_line_no": 623,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20118,
              "handler_string": "V_TRIGGER_NAME || ' - Delete error'"
            }
          }
        ],
        "exception_statements_line_no": [
          624,
          625
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "ERR_UPD",
        "when_line_no": 626,
        "when_indent": 4,
        "then_line_no": 626,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20119,
              "handler_string": "V_TRIGGER_NAME || ' - Update error'"
            }
          }
        ],
        "exception_statements_line_no": [
          627,
          628
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "ERR_VALID_FROM_DATE",
        "when_line_no": 629,
        "when_indent": 4,
        "then_line_no": 629,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20120,
              "handler_string": "'Please insert: Valid from Date'"
            }
          }
        ],
        "exception_statements_line_no": [
          630
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "RU_NOT_IN_CBC_SCOPE",
        "when_line_no": 631,
        "when_indent": 4,
        "then_line_no": 631,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20121,
              "handler_string": "'A company cannot be in CBC/GBE scope if the RU that reports it is not in CBC scope'"
            }
          }
        ],
        "exception_statements_line_no": [
          632
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "ERR_CPY_STILL_IN_SCOPE",
        "when_line_no": 633,
        "when_indent": 4,
        "then_line_no": 633,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20122,
              "handler_string": "'The CBC/GBE Scope must be set to No before deactivating the company'"
            }
          }
        ],
        "exception_statements_line_no": [
          634
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "ERR_NO_ADR",
        "when_line_no": 635,
        "when_indent": 4,
        "then_line_no": 635,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20123,
              "handler_string": "'No Physical Address found. Please insert the address before setting the CBC/GBE Scope to Yes'"
            }
          }
        ],
        "exception_statements_line_no": [
          636
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "CPY_IN_USE",
        "when_line_no": 637,
        "when_indent": 4,
        "then_line_no": 637,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20124,
              "handler_string": "'The Company cannot be invalidated because is still used as Legal Company'"
            }
          }
        ],
        "exception_statements_line_no": [
          638
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "INVALID_LEGAL_COMP AND ERR_NO_ADR",
        "when_line_no": 639,
        "when_indent": 4,
        "then_line_no": 640,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20125,
              "handler_string": "'Invalid Legal Company Code'"
            }
          }
        ],
        "exception_statements_line_no": [
          641
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "ERR_ASSOC_ENT_NOT_ALLOWED_FOR_CBC",
        "when_line_no": 642,
        "when_indent": 4,
        "then_line_no": 642,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20126,
              "handler_string": "'An Associate Entity cannot be in CBC/GBE Scope!'"
            }
          }
        ],
        "exception_statements_line_no": [
          643
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "ERR_CPY_STILL_IN_MFR",
        "when_line_no": 644,
        "when_indent": 4,
        "then_line_no": 644,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20127,
              "handler_string": "'Please fill in Valid to Date field before invalidating the company'"
            }
          }
        ],
        "exception_statements_line_no": [
          645
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "ERR_CTRY_CHG",
        "when_line_no": 646,
        "when_indent": 4,
        "then_line_no": 646,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20128,
              "handler_string": "'The company country modified but not the Valid From Date. Please update also the Valid From Date.'"
            }
          }
        ],
        "exception_statements_line_no": [
          647
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "ERR_NOT_ALLOWED_TO_INVALIDATE",
        "when_line_no": 648,
        "when_indent": 4,
        "then_line_no": 648,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20129,
              "handler_string": "'It is not allowed to invalidate/delete this type of record'"
            }
          }
        ],
        "exception_statements_line_no": [
          649
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "ERR_INS_LEGAL_ADDR",
        "when_line_no": 650,
        "when_indent": 4,
        "then_line_no": 650,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20130,
              "handler_string": "'The legal address cannot be inserted for this type of company'"
            }
          }
        ],
        "exception_statements_line_no": [
          651
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "TEST_ERR",
        "when_line_no": 652,
        "when_indent": 4,
        "then_line_no": 652,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20131,
              "handler_string": "'Test error occurred'"
            }
          }
        ],
        "exception_statements_line_no": [
          653
        ]
      },
      {
        "type": "exception_handler",
        "exception_name": "OTHERS",
        "when_line_no": 654,
        "when_indent": 4,
        "then_line_no": 654,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "raise_application_error",
            "parameter": {
              "handler_code": -20999,
              "handler_string": "V_TRIGGER_NAME || ' - Unexpected error: ' || SQLERRM"
            }
          }
        ],
        "exception_statements_line_no": [
          655,
          656,
          657
        ]
      }
    ],
    "exception_line_no": 619,
    "end_line_no": 658
  },
  "sql_comments": [
    "-- Exception declarations",
    "-- Constants",
    "-- Initialize user ID",
    "-- Main business logic section",
    "-- Validate theme number format",
    "-- Check if theme number already exists",
    "-- Process molecule assignment",
    "-- Set RG number for first assignment",
    "-- Find next available RG number",
    "-- Update molecule with new RG number",
    "-- Process company mappings",
    "-- Validate legal company",
    "-- Process address validation",
    "-- Get address details",
    "-- Log error and continue processing",
    "-- Log error and continue processing",
    "-- Process theme molecules",
    "-- Validate molecule type",
    "-- Log error and continue processing",
    "-- Process address records",
    "-- Validate country change with valid_from date",
    "-- Log error and continue processing",
    "-- Validate theme number cannot be changed",
    "-- Process molecule mapping updates",
    "-- Check for existing mappings",
    "-- Handle molecule sequence changes",
    "-- Invalidate old mapping",
    "-- Adjust sequence numbers",
    "-- Insert new mapping",
    "-- Process company status changes",
    "-- Check if company is used as legal company",
    "-- Deactivate addresses",
    "-- Validate deletion conditions",
    "-- Process molecule mapping deletion",
    "-- Invalidate mapping",
    "-- Adjust sequence numbers",
    "-- Final validation and cleanup",
    "-- Sanity check for duplicate sequence numbers",
    "-- Clean up expired records",
    "-- Log cleanup error but don't fail the main operation"
  ],
  "rest_strings": [
    {
      "indent": 8,
      "line": "        V_USERID := TXO_UTIL.GET_USERID;",
      "line_no": 94,
      "is_end_semicolon": true
    },
    {
      "indent": 12,
      "line": "            V_USERID := USER;",
      "line_no": 97,
      "is_end_semicolon": true
    },
    {
      "indent": 20,
      "line": "                    RAISE INVALID_THEME_NO;",
      "line_no": 132,
      "is_end_semicolon": true
    },
    {
      "indent": 16,
      "line": "                SELECT",
      "line_no": 138,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    COUNT(*) INTO V_COUNTER",
      "line_no": 139,
      "is_end_semicolon": false
    },
    {
      "indent": 16,
      "line": "                FROM",
      "line_no": 140,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    (",
      "line_no": 141,
      "is_end_semicolon": false
    },
    {
      "indent": 24,
      "line": "                        SELECT",
      "line_no": 142,
      "is_end_semicolon": false
    },
    {
      "indent": 28,
      "line": "                            THEME_NO",
      "line_no": 143,
      "is_end_semicolon": false
    },
    {
      "indent": 24,
      "line": "                        FROM",
      "line_no": 144,
      "is_end_semicolon": false
    },
    {
      "indent": 28,
      "line": "                            V_THEMES",
      "line_no": 145,
      "is_end_semicolon": false
    },
    {
      "indent": 24,
      "line": "                        UNION",
      "line_no": 146,
      "is_end_semicolon": false
    },
    {
      "indent": 24,
      "line": "                        ALL",
      "line_no": 147,
      "is_end_semicolon": false
    },
    {
      "indent": 24,
      "line": "                        SELECT",
      "line_no": 148,
      "is_end_semicolon": false
    },
    {
      "indent": 28,
      "line": "                            THEME_NO",
      "line_no": 149,
      "is_end_semicolon": false
    },
    {
      "indent": 24,
      "line": "                        FROM",
      "line_no": 150,
      "is_end_semicolon": false
    },
    {
      "indent": 28,
      "line": "                            GMD.THEMES_ARCHIVE",
      "line_no": 151,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    )",
      "line_no": 152,
      "is_end_semicolon": false
    },
    {
      "indent": 16,
      "line": "                WHERE",
      "line_no": 153,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    T.THEME_NO = :NEW.THEME_NO;",
      "line_no": 154,
      "is_end_semicolon": true
    },
    {
      "indent": 20,
      "line": "                    NULL;",
      "line_no": 160,
      "is_end_semicolon": true
    },
    {
      "indent": 16,
      "line": "                OPEN C_COMPANY_MAPPINGS;",
      "line_no": 223,
      "is_end_semicolon": true
    },
    {
      "indent": 16,
      "line": "                LOOP",
      "line_no": 224,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    FETCH C_COMPANY_MAPPINGS INTO V_COMPANY_REC;",
      "line_no": 225,
      "is_end_semicolon": true
    },
    {
      "indent": 20,
      "line": "                    EXIT WHEN C_COMPANY_MAPPINGS%NOTFOUND;",
      "line_no": 226,
      "is_end_semicolon": true
    },
    {
      "indent": 24,
      "line": "                        SELECT",
      "line_no": 230,
      "is_end_semicolon": false
    },
    {
      "indent": 28,
      "line": "                            COUNT(*) INTO V_COUNTER",
      "line_no": 231,
      "is_end_semicolon": false
    },
    {
      "indent": 24,
      "line": "                        FROM",
      "line_no": 232,
      "is_end_semicolon": false
    },
    {
      "indent": 28,
      "line": "                            CFG_V_COMPANIES",
      "line_no": 233,
      "is_end_semicolon": false
    },
    {
      "indent": 24,
      "line": "                        WHERE",
      "line_no": 234,
      "is_end_semicolon": false
    },
    {
      "indent": 28,
      "line": "                            COMPANY_TYPE_CD IN ('L')",
      "line_no": 235,
      "is_end_semicolon": false
    },
    {
      "indent": 28,
      "line": "                            AND VALID_IND = 'Y'",
      "line_no": 236,
      "is_end_semicolon": false
    },
    {
      "indent": 28,
      "line": "                            AND COMPANY_CD = V_COMPANY_REC.LEGAL_COMPANY_CD;",
      "line_no": 237,
      "is_end_semicolon": true
    },
    {
      "indent": 28,
      "line": "                            SELECT",
      "line_no": 245,
      "is_end_semicolon": false
    },
    {
      "indent": 32,
      "line": "                                COUNT(*) INTO V_COUNTER",
      "line_no": 246,
      "is_end_semicolon": false
    },
    {
      "indent": 28,
      "line": "                            FROM",
      "line_no": 247,
      "is_end_semicolon": false
    },
    {
      "indent": 32,
      "line": "                                CFG.CFG_V_COMPANY_ADDRESSES",
      "line_no": 248,
      "is_end_semicolon": false
    },
    {
      "indent": 28,
      "line": "                            WHERE",
      "line_no": 249,
      "is_end_semicolon": false
    },
    {
      "indent": 32,
      "line": "                                COMPANY_CD = V_COMPANY_REC.REPORTING_ENTITY_CD",
      "line_no": 250,
      "is_end_semicolon": false
    },
    {
      "indent": 32,
      "line": "                                AND ADDRESS_TYPE_CD = 'RES';",
      "line_no": 251,
      "is_end_semicolon": true
    },
    {
      "indent": 28,
      "line": "                            SELECT",
      "line_no": 258,
      "is_end_semicolon": false
    },
    {
      "indent": 32,
      "line": "                                VALID_FROM,",
      "line_no": 259,
      "is_end_semicolon": false
    },
    {
      "indent": 32,
      "line": "                                COUNTRY_CD INTO V_VALID_FROM_DATE,",
      "line_no": 260,
      "is_end_semicolon": false
    },
    {
      "indent": 32,
      "line": "                                V_COUNTRY_CD",
      "line_no": 261,
      "is_end_semicolon": false
    },
    {
      "indent": 28,
      "line": "                            FROM",
      "line_no": 262,
      "is_end_semicolon": false
    },
    {
      "indent": 32,
      "line": "                                CFG.CFG_V_COMPANY_ADDRESSES",
      "line_no": 263,
      "is_end_semicolon": false
    },
    {
      "indent": 28,
      "line": "                            WHERE",
      "line_no": 264,
      "is_end_semicolon": false
    },
    {
      "indent": 32,
      "line": "                                COMPANY_CD = V_COMPANY_REC.REPORTING_ENTITY_CD",
      "line_no": 265,
      "is_end_semicolon": false
    },
    {
      "indent": 32,
      "line": "                                AND ADDRESS_TYPE_CD = 'RES';",
      "line_no": 266,
      "is_end_semicolon": true
    },
    {
      "indent": 32,
      "line": "                                RAISE ERR_NO_ADR;",
      "line_no": 269,
      "is_end_semicolon": true
    },
    {
      "indent": 28,
      "line": "                            NULL;",
      "line_no": 275,
      "is_end_semicolon": true
    },
    {
      "indent": 28,
      "line": "                            NULL;",
      "line_no": 279,
      "is_end_semicolon": true
    },
    {
      "indent": 16,
      "line": "                END LOOP;",
      "line_no": 281,
      "is_end_semicolon": true
    },
    {
      "indent": 16,
      "line": "                CLOSE C_COMPANY_MAPPINGS;",
      "line_no": 283,
      "is_end_semicolon": true
    },
    {
      "indent": 20,
      "line": "                    RAISE;",
      "line_no": 290,
      "is_end_semicolon": true
    },
    {
      "indent": 16,
      "line": "                OPEN C_THEME_MOLECULES;",
      "line_no": 296,
      "is_end_semicolon": true
    },
    {
      "indent": 16,
      "line": "                LOOP",
      "line_no": 297,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    FETCH C_THEME_MOLECULES INTO V_THEME_REC;",
      "line_no": 298,
      "is_end_semicolon": true
    },
    {
      "indent": 20,
      "line": "                    EXIT WHEN C_THEME_MOLECULES%NOTFOUND;",
      "line_no": 299,
      "is_end_semicolon": true
    },
    {
      "indent": 28,
      "line": "                            NULL;",
      "line_no": 324,
      "is_end_semicolon": true
    },
    {
      "indent": 16,
      "line": "                END LOOP;",
      "line_no": 326,
      "is_end_semicolon": true
    },
    {
      "indent": 16,
      "line": "                CLOSE C_THEME_MOLECULES;",
      "line_no": 328,
      "is_end_semicolon": true
    },
    {
      "indent": 20,
      "line": "                    RAISE;",
      "line_no": 335,
      "is_end_semicolon": true
    },
    {
      "indent": 16,
      "line": "                OPEN C_ADDRESS_RECORDS;",
      "line_no": 341,
      "is_end_semicolon": true
    },
    {
      "indent": 16,
      "line": "                LOOP",
      "line_no": 342,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    FETCH C_ADDRESS_RECORDS INTO V_ADDRESS_REC;",
      "line_no": 343,
      "is_end_semicolon": true
    },
    {
      "indent": 20,
      "line": "                    EXIT WHEN C_ADDRESS_RECORDS%NOTFOUND;",
      "line_no": 344,
      "is_end_semicolon": true
    },
    {
      "indent": 28,
      "line": "                            NULL;",
      "line_no": 371,
      "is_end_semicolon": true
    },
    {
      "indent": 16,
      "line": "                END LOOP;",
      "line_no": 373,
      "is_end_semicolon": true
    },
    {
      "indent": 16,
      "line": "                CLOSE C_ADDRESS_RECORDS;",
      "line_no": 375,
      "is_end_semicolon": true
    },
    {
      "indent": 20,
      "line": "                    RAISE;",
      "line_no": 382,
      "is_end_semicolon": true
    },
    {
      "indent": 16,
      "line": "                SELECT",
      "line_no": 408,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    COUNT(*) INTO V_COUNTER",
      "line_no": 409,
      "is_end_semicolon": false
    },
    {
      "indent": 16,
      "line": "                FROM",
      "line_no": 410,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    V_THEME_MOLECULE_MAP",
      "line_no": 411,
      "is_end_semicolon": false
    },
    {
      "indent": 16,
      "line": "                WHERE",
      "line_no": 412,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    THEME_NO = :NEW.THEME_NO",
      "line_no": 413,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    AND MOLECULE_ID = :NEW.MOLECULE_ID",
      "line_no": 414,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    AND VALID_IND = 'Y';",
      "line_no": 415,
      "is_end_semicolon": true
    },
    {
      "indent": 20,
      "line": "                    RAISE;",
      "line_no": 518,
      "is_end_semicolon": true
    },
    {
      "indent": 8,
      "line": "        SELECT",
      "line_no": 572,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            COUNT(*) INTO V_COUNTER",
      "line_no": 573,
      "is_end_semicolon": false
    },
    {
      "indent": 8,
      "line": "        FROM",
      "line_no": 574,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            (",
      "line_no": 575,
      "is_end_semicolon": false
    },
    {
      "indent": 16,
      "line": "                SELECT",
      "line_no": 576,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    MOLECULE_SEQ_NO",
      "line_no": 577,
      "is_end_semicolon": false
    },
    {
      "indent": 16,
      "line": "                FROM",
      "line_no": 578,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    THEME_MOLECULE_MAP",
      "line_no": 579,
      "is_end_semicolon": false
    },
    {
      "indent": 16,
      "line": "                WHERE",
      "line_no": 580,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    THEME_NO = NVL(:NEW.THEME_NO, :OLD.THEME_NO)",
      "line_no": 581,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    AND VALID_IND = 'Y'",
      "line_no": 582,
      "is_end_semicolon": false
    },
    {
      "indent": 16,
      "line": "                GROUP BY",
      "line_no": 583,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    MOLECULE_SEQ_NO",
      "line_no": 584,
      "is_end_semicolon": false
    },
    {
      "indent": 16,
      "line": "                HAVING",
      "line_no": 585,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    COUNT(*) > 1",
      "line_no": 586,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            );",
      "line_no": 587,
      "is_end_semicolon": true
    },
    {
      "indent": 12,
      "line": "            FOR EXPIRED_REC IN (",
      "line_no": 595,
      "is_end_semicolon": false
    },
    {
      "indent": 16,
      "line": "                SELECT",
      "line_no": 596,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    THEME_NO,",
      "line_no": 597,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    REGISTRAT_DATE",
      "line_no": 598,
      "is_end_semicolon": false
    },
    {
      "indent": 16,
      "line": "                FROM",
      "line_no": 599,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    V_THEMES",
      "line_no": 600,
      "is_end_semicolon": false
    },
    {
      "indent": 16,
      "line": "                WHERE",
      "line_no": 601,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    VALID_TO <= TRUNC(SYSDATE)",
      "line_no": 602,
      "is_end_semicolon": false
    },
    {
      "indent": 12,
      "line": "            ) LOOP",
      "line_no": 603,
      "is_end_semicolon": false
    },
    {
      "indent": 16,
      "line": "                DELETE FROM GMD.THEMES",
      "line_no": 604,
      "is_end_semicolon": false
    },
    {
      "indent": 16,
      "line": "                WHERE",
      "line_no": 605,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    THEME_NO = EXPIRED_REC.THEME_NO",
      "line_no": 606,
      "is_end_semicolon": false
    },
    {
      "indent": 20,
      "line": "                    AND REGISTRAT_DATE = EXPIRED_REC.REGISTRAT_DATE;",
      "line_no": 607,
      "is_end_semicolon": true
    },
    {
      "indent": 12,
      "line": "            END LOOP;",
      "line_no": 608,
      "is_end_semicolon": true
    },
    {
      "indent": 16,
      "line": "                NULL;",
      "line_no": 613,
      "is_end_semicolon": true
    }
  ],
  "conversion_stats": {
    "declaration_count": 84,
    "comment_count": 40,
    "rest_string_count": 111,
    "sql_convert_count": 99
  },
  "metadata": {
    "parse_timestamp": "2025-08-25T02:26:38.728184",
    "parser_version": "1.0"
  }
}