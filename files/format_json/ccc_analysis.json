{
  "declarations": {
    "variables": [],
    "constants": [],
    "exceptions": [
      {
        "name": "E_UPD",
        "type": "EXCEPTION"
      }
    ]
  },
  "main": {
    "type": "begin_end",
    "begin_indent": 0,
    "begin_end_statements": [
      {
        "condition": " INSERTING ",
        "type": "if_else",
        "if_indent": 4,
        "then_statements": [
          {
            "condition": " :NEW.XRT_CD NOT LIKE 'G0%' ",
            "type": "if_else",
            "if_indent": 8,
            "then_statements": [
              {
                "type": "insert_statement",
                "sql_statement": "INSERT INTO CER_EXCHANGE_RATES ( XRT_CD, CURRENCY_CD, RATE_PERIOD, PLAN_PERIOD, RATE, SCALING_FACTOR, VALID_IND ) VALUES ( :NEW.XRT_CD, :NEW.CURRENCY_CD, :NEW.RATE_PERIOD, NVL(:NEW.PLAN_PERIOD, '-'), :NEW.RATE, :NEW.SCALING_FACTOR, :NEW.VALID_IND );",
                "statement_indent": 12
              }
            ],
            "if_elses": [],
            "else_statements": [
              {
                "type": "insert_statement",
                "sql_statement": "INSERT INTO CER_V_CENTRAL_GOV_RATES ( XRT_CD, CURRENCY_CD_1, CURRENCY_CD_2, RATE_PERIOD, RATE, SCALING_FACTOR, VALID_IND ) VALUES ( :NEW.XRT_CD, :NEW.CURRENCY_CD, :NEW.CURRENCY_CD_2, :NEW.RATE_PERIOD, :NEW.RATE, :NEW.SCALING_FACTOR, :NEW.VALID_IND );",
                "statement_indent": 12
              }
            ]
          }
        ],
        "if_elses": [
          {
            "type": "elif_statement",
            "elif_indent": 4,
            "condition": "(UPDATING)",
            "then_statements": [
              {
                "condition": " :NEW.XRT_CD != :OLD.XRT_CD OR :NEW.CURRENCY_CD != :OLD.CURRENCY_CD OR :NEW.RATE_PERIOD != :OLD.RATE_PERIOD OR NVL(:NEW.PLAN_PERIOD, '-') != NVL(:OLD.PLAN_PERIOD, '-') ",
                "type": "if_else",
                "if_indent": 8,
                "then_statements": [
                  {
                    "type": "raise_statement",
                    "sql_statement": "RAISE E_UPD;",
                    "statement_indent": 12
                  }
                ],
                "if_elses": [],
                "else_statements": []
              },
              {
                "condition": " :NEW.XRT_CD NOT LIKE 'G0%' ",
                "type": "if_else",
                "if_indent": 8,
                "then_statements": [
                  {
                    "type": "update_statement",
                    "sql_statement": "UPDATE CER_EXCHANGE_RATES SET RATE = :NEW.RATE, SCALING_FACTOR = :NEW.SCALING_FACTOR, VALID_IND = :NEW.VALID_IND WHERE XRT_CD = :NEW.XRT_CD AND CURRENCY_CD = :NEW.CURRENCY_CD AND RATE_PERIOD = :NEW.RATE_PERIOD AND PLAN_PERIOD = :NEW.PLAN_PERIOD;",
                    "statement_indent": 12
                  }
                ],
                "if_elses": [],
                "else_statements": [
                  {
                    "type": "update_statement",
                    "sql_statement": "UPDATE CER_V_CENTRAL_GOV_RATES SET RATE = :NEW.RATE, SCALING_FACTOR = :NEW.SCALING_FACTOR, VALID_IND = :NEW.VALID_IND WHERE XRT_CD = :NEW.XRT_CD AND CURRENCY_CD_1 = :NEW.CURRENCY_CD AND CURRENCY_CD_2 = :NEW.CURRENCY_CD_2 AND RATE_PERIOD = :NEW.RATE_PERIOD;",
                    "statement_indent": 12
                  }
                ]
              }
            ]
          }
        ],
        "else_statements": []
      }
    ],
    "exception_handlers": [
      {
        "type": "exception_handler",
        "exception_name": "E_UPD",
        "when_indent": 4,
        "exception_statements": [
          {
            "type": "function_calling",
            "function_name": "RAISE_APPLICATION_ERROR",
            "parameters": {
              "parameter_type": "positional",
              "positional_params": [
                "-20101",
                "'CER_V_EXCHANGE_RATES_IOF'"
              ],
              "named_params": {},
              "raw_text": "-20101, 'CER_V_EXCHANGE_RATES_IOF'"
            }
          }
        ]
      }
    ]
  },
  "sql_comments": [
    "/*\n=======================================================================\n                 (c) 2005 - F. Hoffmann La Roche AG\n-----------------------------------------------------------------------\n   trigger     : CER_V_EXCHANGE_RATES_IOF\n   This is part of the CER application.\n-----------------------------------------------------------------------\n   Purpose\n   Prevent records of table CER_V_EXCHANGE_RATES from being updated if\n   one of the following columns has been altered\n        o xrt_cd\n        o currency_cd\n        o rate_period\n        o plan_period\n-----------------------------------------------------------------------\n   Persons involved\n   Short Name  Name                      Contact\n   AME         Andreas Mengel, Trivadis  andreas.mengel@trivadis.com\n-----------------------------------------------------------------------\n   Change History\n   30.11.05   AME    created\n   21.10.2016 OlA   Add gov rate\n=======================================================================\n*/"
  ],
  "rest_string_list": [],
  "conversion_stats": {
    "declaration_count": 1,
    "comment_count": 1,
    "sql_convert_count": {
      "select_statement": 0,
      "insert_statement": 2,
      "update_statement": 2,
      "delete_statement": 0,
      "raise_statement": 1,
      "assignment": 0,
      "for_loop": 0,
      "if_else": 4,
      "case_when": 0,
      "begin_end": 1,
      "exception_handler": 1,
      "function_calling": 1,
      "when_statement": 0,
      "elif_statement": 1,
      "fetch_statement": 0,
      "open_statement": 0,
      "exit_statement": 0,
      "close_statement": 0,
      "merge_statement": 0,
      "null_statement": 0,
      "return_statement": 0
    }
  },
  "metadata": {
    "parse_timestamp": "2025-08-28T19:32:16.412815",
    "parser_version": "1.0",
    "file_details": {
      "filename": "ccc.sql",
      "filepath": "D:\\DELOITTE\\ORACALE_to_json\\files\\oracle\\ccc.sql",
      "filesize": 4422,
      "file_extension": ".sql",
      "last_modified": 1756389601.5473363,
      "created_time": 1756389591.2677557,
      "is_file": true,
      "is_readable": true
    }
  }
}