DO $$ DECLARE v_cntr integer := 0; BEGIN IF  COALESCE(txo_util.get_userid,'GENERIC') = 'GENERIC'  THEN RAISE EXCEPTION '-- TODO: Map Oracle exception "err_upd" to PostgreSQL equivalent'; END IF; IF  UPDATING AND :OLD.STATUS_CD IN ('D','A') AND :OLD.STATUS_CD = :NEW.STATUS_CD  THEN RAISE EXCEPTION '-- TODO: Map Oracle exception "err_upd2" to PostgreSQL equivalent'; END IF; IF  UPDATING  THEN SELECT :NEW.REQUEST_ID ,:NEW.REQUEST_TYPE_CD ,:NEW.CODE ,:NEW.REQUEST_DATE ,:NEW.REQUESTOR_USERID ,:NEW.REQUESTOR ,:NEW.REVIEW_DATE ,:NEW.REVIEW_USERID ,:NEW.REVIEWER ,:NEW.APPROVAL_DATE ,:NEW.APPROVAL_USERID ,:NEW.APPROVER ,:NEW.CHANGED_OBJECTS ,:NEW.BLANK ,:NEW.LAST_UPDATE ,:NEW.STATUS_CD ,:NEW.REQUEST_COMMENT ,:NEW.REJECT_DATE ,:NEW.REJECT_USERID ,:NEW.REJECTER ,:NEW.IS_CPY_OR_REN ,:NEW.COMMENT_NEW INTO mdm_util_variables.request_admin_rec FROM DUAL; mdm_util_cfg_requests.mod_request; END IF; END; $$ LANGUAGE plpgsql;